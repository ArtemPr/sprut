<div class="users-table-wrap table-responsive" id="table_container">

    <table id="usersTable"
           class="users-table table card-table table-vcenter text-nowrap datatable">
        <thead>
        <tr>
            {% if table|default(false) %}
                {% for tbl in table %}
                    {% if tbl.3 == true %}
                        {% if loop.first == 1 %}
                            <th>
                                <a class="sort-icon
                                                           is-{% if sort.current_sort|default(false) and sort.current_sort == tbl.0 %}desc{% elseif sort.current_sort|default(false) and sort.current_sort == (tbl.0~'__up') %}asc{% elseif sort.current_sort|default(false) == false %}asc{% else %}both{% endif %}"
                                   href="{{ path('administrator_kafedra') ~ sort.sort_link ~ tbl.0 }}{% if sort.current_sort|default(false) and sort.current_sort == tbl.0 %}__up{% endif %}"></a>
                                {% if  tbl.1  == 'ID' %}
                                    <span class="th-name id-name">{{ tbl.1 }}</span>
                                {% else %}
                                    <span class="th-name">{{ tbl.1 }}</span>
                                {% endif %}
                            </th>
                        {% else %}
                            <th>
                                <a class="sort-icon
                                                           is-{% if sort.current_sort|default(false) and sort.current_sort == tbl.0 %}desc{% elseif sort.current_sort|default(false) and sort.current_sort == (tbl.0~'__up') %}asc{% else %}both{% endif %}"
                                   href="{{ path('administrator_kafedra') ~ sort.sort_link ~ tbl.0 }}{% if sort.current_sort|default(false) and sort.current_sort == tbl.0 %}__up{% endif %}"></a>
                                <span class="th-name"> {{ tbl.1 }}</span>
                            </th>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            {% endif %}
            <th class="hidden-cell"></th>
        </tr>
        </thead>
        <tbody>
        {% set id=1 %}
        {% if data|default(false) %}
            {% for dat in data %}

                <tr data-string="{{ dat.id }}" class="user-table-row {% if loop.first %}is-selected{% endif %}">
                    <td>
                        {{ dat['id']|default(false) }}
                    </td>
                    <td>
                        {{ dat['training_centre']['name']|default(false) }}
                    </td>
                    <td>
                        {{ dat['name']|default(false) }}
                    </td>
                    <td>
                        {{ dat['director']['username']|default(false) }}
                    </td>
                    <td>
                        {{ dat['director']['email']|default(false) }}
                    </td>
                </tr>
            {% endfor %}
        {% endif %}
        </tbody>
    </table>

</div>
<div class="card-footer d-flex align-items-center">
    <p class="m-0 text-muted"><b>{{ data|length }}</b> результатов</p>

    {% if pager.count_page|default(false) and pager.count_page > 1 %}
        <ul class="pagination m-0 ms-auto">
            <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                    <!-- Download SVG icon from http://tabler-icons.io/i/chevron-left -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24"
                         height="24" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" fill="none" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <polyline points="15 6 9 12 15 18"/>
                    </svg>
                </a>
            </li>

            {% for page in 1..pager.count_page %}
                {% if page == pager.current_page %}
                    <li class="page-item active"><a
                            data-ajax="{{ path('administrator_kafedra') ~ pager.paginator_link ~ page }}&ajax=true"
                            class="page-link"
                            href="{{ path('administrator_kafedra') ~ pager.paginator_link ~ page }}">{{ page }}</a>
                    </li>
                {% else %}
                    <li class="page-item"><a class="page-link"
                                             href="{{ path('administrator_kafedra') ~ pager.paginator_link ~ page }}">{{ page }}</a>
                    </li>
                {% endif %}
            {% endfor %}
            
            <li class="page-item">
                <a class="page-link" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24"
                         height="24" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" fill="none" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <polyline points="9 6 15 12 9 18"/>
                    </svg>
                </a>
            </li>
        </ul>
    {% endif %}

</div>
