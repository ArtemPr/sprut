<div class="offcanvas-header">
    <h2 class="offcanvas-title">Редактирование пользователя</h2>
    <button id="jsEditingPanelCloser" type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
            aria-label="Close"></button>
</div>
<div class="offcanvas-body">
    <form action="#" name="user-edit">



        <div class="form-group mb-3 row flex-nowrap align-items-center">
            <label for="cb-activity2" class="form-label col-3 col-form-label">Активирован</label>
            <div class="form-check form-switch mb-0 ms-2">
                <input id="cb-activity2" class="form-check-input" type="checkbox"
                    {% if data.activity|default(false) %}
                        checked
                    {% endif %}
                >
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group mb-3 row">
                    <label class="form-label col-3 col-form-label">Фамилия</label>
                    <div class="col">
                        <input type="text" class="form-control" placeholder="Фамилия" value="{{ data.username|default('') }}">
                    </div>
                </div>
                <div class="form-group mb-3 row">
                    <label class="form-label col-3 col-form-label">Имя</label>
                    <div class="col">
                        <input type="text" class="form-control" placeholder="Имя" value="{{ data.surname|default('') }}">
                    </div>
                </div>
                <div class="form-group mb-3 row">
                    <label class="form-label col-3 col-form-label">Отчество</label>
                    <div class="col">
                        <input type="text" class="form-control" placeholder="Отчество" value="{{ data.patronymic|default('') }}">
                    </div>
                </div>
            </div>
            <div class="col user-photo-col">
                <div class="user-photo-box">
                    <input class="user-photo-input" name="user-photo" type="file" accept="image/png, image/jpg, image/jpeg, image/gif">
                    <img class="user-photo-img" src="/assets/images/user.png" alt="">
                </div>
            </div>
        </div>

        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Должность</label>
            <div class="col">
                <input type="text" class="form-control" placeholder="Должность" value="{{ data.position|default('') }}">
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Проект</label>
            <div class="col">
                {% if data.roles|default(false) %}
                    <u>{{ data.departament.name|default('') }}</u>
                    <br /><br />
                {% endif %}
                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                        data-bs-target="#managingDepartmentsModal">Изменить
                </button>
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Роль</label>
            <div class="col">
                {% if data.roles|default(false) %}
                    {% for role in data.roles %}
                        <u>{{ role.name }}</u>
                    {% endfor %}
                <br /><br />
                {% endif %}
                <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                        data-bs-target="#managingRolesModal">Изменить
                </button>
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">E-mail</label>
            <div class="col">
                <input type="email" class="form-control" placeholder="Адрес электронной почты" value="{{ data.email|default(false) }}">
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Пароль</label>
            <div class="col">
                <input type="password" class="form-control" placeholder="Пароль">
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Повторите пароль</label>
            <div class="col">
                <input type="password" class="form-control" placeholder="Повторение пароля">
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Скайп</label>
            <div class="col">
                <input type="text" class="form-control" placeholder="Скайп" value="{{ data.skype|default(false) }}">
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Телефон</label>
            <div class="col">
                <input type="tel" class="form-control" placeholder="Телефон в формате +7 (xxx) xxx-xx-xx"
                       value="{{ data.phone|default(false) }}">
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="form-label col-3 col-form-label">Город</label>
            <div class="col">
                <select class="form-select">
                    <option disabled {% if data.city.id|default(false) == false %}selected{% endif %}>Выберите город из списка</option>
                    {% for city in city_list %}
                        <option value="{{ city.id }}"
                                {% if data.city.id|default(false) and city.id == data.city.id %}
                                    selected
                                {% endif %}
                        >{{ city.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>




        <div class="d-flex mb-4">
            <button type="submit" class="btn btn-primary ms-auto">Сохранить</button>
        </div>



    </form>
</div>
